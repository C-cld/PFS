<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link th:href="@{/layui/css/layui.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css/fund.css}" rel="stylesheet" type="text/css">
    <script type="text/javascript" th:src="@{/layui/layui.js}"></script>
    <title>Title</title>
</head>
<body>
<div class="layui-col-md9">
    <div class="layui-card record-list">
        <div class="layui-form layui-card-header">
            资金变动记录
        </div>
        <div class="layui-card-body">
            <table class="layui-table" lay-data="{url:'/fund-investment-record', toolbar:'#addToolBar', defaultToolbar:['filter', 'exports', 'print'], page:true, id:'record-table'}" lay-filter="record-table">
                <thead>
                <tr>
                    <th lay-data="{field:'productId'}">基金代码</th>
                    <th lay-data="{field:'share'}">确认份额</th>
                    <th lay-data="{field:'net'}">确认净值</th>
                    <th lay-data="{field:'confirm'}">确认金额</th>
                    <th lay-data="{field:'serviceFee'}">手续费</th>
                    <th lay-data="{field:'createDate', templet:'#createDate'}">买入时间</th>
                </tr>
                </thead>
            </table>
            <script type="text/html" id="addToolBar">
                <div class="layui-btn-container">
                    <button class="layui-btn layui-btn-sm" lay-event="addRecord">新增</button>
                </div>
            </script>
            <script id="createDate" type="text/html">
                {{#
                var date = new Date();
                date.setTime(d.createDate);
                return date.Format("yyyy-MM-dd hh:mm:ss");
                }}
            </script>
        </div>
    </div>
</div>
<div class="layui-col-md3">
    <div class="layui-card">
        <div class="layui-card-header">
            <div class="layui-form-item">
                我的基金
                <div class="layui-inline add-fund">
                    <button class="layui-btn layui-btn-sm layui-bg-gray addFund"><i class="layui-icon layui-icon-add-1"></i></button>
                </div>
            </div>
        </div>
        <div class="layui-card-body">
            <div class="layui-carousel" id="fund-carousel">
                <div carousel-item>
                    <div>条目1</div>
                    <div>条目2</div>
                    <div>条目3</div>
                    <div>条目4</div>
                    <div>条目5</div>
                </div>
            </div>
        </div>
    </div>
    <div class="layui-card">
        <div class="layui-card-header">
            投资比重
        </div>
        <div class="layui-card-body">

        </div>
    </div>
</div>
<!--<div class="layui-row layui-col-space20">
    <div class="layui-col-md9">
        &lt;!&ndash;记录列表&ndash;&gt;
        <div class="layui-card record-list">
            <div class="layui-form layui-card-header">
                资金变动记录
            </div>
            <div class="layui-card-body">
                <table class="layui-table" lay-data="{url:'/fund-investment-record', toolbar:'#addToolBar', defaultToolbar:['filter', 'exports', 'print'], page:true, id:'record-table'}" lay-filter="record-table">
                    <thead>
                    <tr>
                        <th lay-data="{field:'productId'}">基金代码</th>
                        <th lay-data="{field:'share'}">确认份额</th>
                        <th lay-data="{field:'net'}">确认净值</th>
                        <th lay-data="{field:'confirm'}">确认金额</th>
                        <th lay-data="{field:'serviceFee'}">手续费</th>
                        <th lay-data="{field:'createDate', templet:'#createDate'}">买入时间</th>
                    </tr>
                    </thead>
                </table>
                <script type="text/html" id="addToolBar">
                    <div class="layui-btn-container">
                        <button class="layui-btn layui-btn-sm" lay-event="addRecord">新增</button>
                    </div>
                </script>
                <script id="createDate" type="text/html">
                    {{#
                    var date = new Date();
                    date.setTime(d.createDate);
                    return date.Format("yyyy-MM-dd hh:mm:ss");
                    }}
                </script>
            </div>
        </div>
    </div>
    <div class="layui-col-md3">
        <div class="layui-card">
            <div class="layui-card-header">
                <div class="layui-form-item">
                    我的基金
                    <div class="layui-inline add-fund">
                        <button class="layui-btn layui-btn-sm layui-bg-gray addFund"><i class="layui-icon layui-icon-add-1"></i></button>
                    </div>
                </div>
            </div>
            <div class="layui-card-body">
                <div class="layui-carousel" id="fund-carousel">
                    <div carousel-item>
                        <div>条目1</div>
                        <div>条目2</div>
                        <div>条目3</div>
                        <div>条目4</div>
                        <div>条目5</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="layui-col-md3">
        <div class="layui-card">
            <div class="layui-card-header">
                投资比重
            </div>
            <div class="layui-card-body">

            </div>
        </div>
    </div>
</div>-->


<script>
    layui.use(['table', 'element', 'carousel'], function() {
        var $ = layui.jquery;
        var layer = layui.layer;
        var table = layui.table;
        var element = layui.element;
        var carousel = layui.carousel;
        // 头工具栏事件（新增）
        table.on('toolbar(record-table)', function(obj){
            if (obj.event == 'addRecord') {
                layer.open({
                    type: 2,
                    title: '新增',
                    maxmin: true,
                    shade: 0,
                    content: '/fund-investment-record-add'
                });
            }
        });
        carousel.render({
            elem: '#fund-carousel',
            width: '100%',
            arrow: 'hover' //始终显示箭头
        });
    });
    //对Date的扩展，将 Date 转化为指定格式的String
    //月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，
    //年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)
    //例子：
    //(new Date()).Format("yyyy-MM-dd hh:mm:ss.S") ==> 2006-07-02 08:09:04.423
    //(new Date()).Format("yyyy-M-d h:m:s.S")      ==> 2006-7-2 8:9:4.18
    Date.prototype.Format = function(fmt)
    { //author: meizz
        var o = {
            "M+" : this.getMonth()+1,                 //月份
            "d+" : this.getDate(),                    //日
            "h+" : this.getHours(),                   //小时
            "m+" : this.getMinutes(),                 //分
            "s+" : this.getSeconds(),                 //秒
            "q+" : Math.floor((this.getMonth()+3)/3), //季度
            "S"  : this.getMilliseconds()             //毫秒
        };
        if(/(y+)/.test(fmt))
            fmt=fmt.replace(RegExp.$1, (this.getFullYear()+"").substr(4 - RegExp.$1.length));
        for(var k in o)
            if(new RegExp("("+ k +")").test(fmt))
                fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : (("00"+ o[k]).substr((""+ o[k]).length)));
        return fmt;
    }
</script>
</body>
</html>